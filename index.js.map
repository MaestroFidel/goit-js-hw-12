{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = 'https://pixabay.com/api/'\n\nexport const fetchPhotos = searchedQuery => {\n//   const urlParams = new URLSearchParams({\n//    q: searchedQuery,\n//    orientation: 'horizontal',\n//    per_page: 20,\n//    key: '45481518-557ec69fe97012c17356df52c',\n//    image_type: 'photo',\n//    safesearch: 'true',\n//   });\nconst axiosParams = {\nparams: {\n    q: searchedQuery,\n   orientation: 'horizontal',\n   per_page: 20,\n   key: '45481518-557ec69fe97012c17356df52c',\n   image_type: 'photo',\n   safesearch: 'true',\n\n},   \n};\n//   return  fetch(\n//     `${BASE_URL}?${urlParams}`)\n//   .then(response => {\n// if (!response.ok) {\n//   throw new Error(response.status);\n// }\n// return response.json();\n//   })\nreturn axios.get(`${BASE_URL}`, axiosParams);\n};","\nimport { createGalleryCard, displayPhotos } from \"./js/render-functions\";\nimport { fetchPhotos } from \"./js/pixabay-api\";\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst searchImg = document.querySelector('.js-search-form');\nconst galleryImg = document.querySelector('.js-gallery');\nconst waitLoader = document.querySelector('.js-loader');\n\nconst onSearchFormSubmit = async event => {\n    try {\n        event.preventDefault();\n        const searchValue = searchImg.elements.user_query.value.trim();\n        \n        const response = await fetchPhotos(searchValue);\n        if (response.data.hits.length === 0) {\n                iziToast.warning({\n                  title: \"No results\",\n                  message: \"Sorry, there are no images your search query. Please try again.\",\n                  position: 'topLeft',\n                });\n                galleryImg.innerHTML = '';\n                searchImg.reset();\n                return;\n              };\n        console.log(response);\n        \n        \n\n\n    }\n\n    catch (err) {\n        console.log(err);\n    }\n \n\n//   if (searchValue === \"\") {\n//     iziToast.error({\n//       title: \"Error\",\n//       message: \"Please fill out the form\",\n//       position: 'topRight',\n//       timeout: 3000\n//     });\n//     return;\n//   }\n\n//   waitLoader.classList.remove('loader-hidden');\n\n//   fetchPhotos(searchValue)\n//     .then(response => {\n//         console.log (response)\n    //   if (data.hits.length === 0) {\n    //     iziToast.warning({\n    //       title: \"No results\",\n    //       message: \"Sorry, there are no images your search query. Please try again.\",\n    //       position: 'topLeft',\n    //     });\n    //     galleryImg.innerHTML = '';\n    //     searchImg.reset();\n    //     return;\n    //   }\n    //   displayPhotos(data.hits, galleryImg, new SimpleLightbox('.gallery-card a')); \n    // })\n    // .catch(err => {\n    //   iziToast.error({\n    //     title: \"Error\",\n    //     message: \"Something wrong. Please, try later\"\n    //   });\n    // })\n    // .finally(() => {\n    //   waitLoader.classList.add('loader-hidden'); \n    // });\n};\n\nsearchImg.addEventListener('submit', onSearchFormSubmit);\n"],"names":["BASE_URL","fetchPhotos","searchedQuery","axiosParams","axios","searchImg","galleryImg","onSearchFormSubmit","event","searchValue","response","iziToast","err"],"mappings":"wvBAEA,MAAMA,EAAW,2BAEJC,EAAcC,GAAiB,CAS5C,MAAMC,EAAc,CACpB,OAAQ,CACJ,EAAGD,EACJ,YAAa,aACb,SAAU,GACV,IAAK,qCACL,WAAY,QACZ,WAAY,MAEf,CACA,EASA,OAAOE,EAAM,IAAI,GAAGJ,CAAQ,GAAIG,CAAW,CAC3C,ECzBME,EAAY,SAAS,cAAc,iBAAiB,EACpDC,EAAa,SAAS,cAAc,aAAa,EACpC,SAAS,cAAc,YAAY,EAEtD,MAAMC,EAAqB,MAAMC,GAAS,CACtC,GAAI,CACAA,EAAM,eAAc,EACpB,MAAMC,EAAcJ,EAAU,SAAS,WAAW,MAAM,OAElDK,EAAW,MAAMT,EAAYQ,CAAW,EAC9C,GAAIC,EAAS,KAAK,KAAK,SAAW,EAAG,CAC7BC,EAAS,QAAQ,CACf,MAAO,aACP,QAAS,kEACT,SAAU,SAC5B,CAAiB,EACDL,EAAW,UAAY,GACvBD,EAAU,MAAK,EACf,MAChB,CACQ,QAAQ,IAAIK,CAAQ,CAKvB,OAEME,EAAK,CACR,QAAQ,IAAIA,CAAG,CAClB,CAuCL,EAEAP,EAAU,iBAAiB,SAAUE,CAAkB"}